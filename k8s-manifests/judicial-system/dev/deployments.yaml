#####################################################################
#
# Do not edit this file manually, it is automatically generated.
# Run "yarn charts" instead.
#
#####################################################################
namespaces:
  namespaces:
    - 'judicial-system'
judicial-system-api:
  metadata:
    name: 'judicial-system-api'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-api'
        annotations:
          ad.datadoghq.com/judicial-system-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-api'
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          fsGroup: 65534
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          XROAD_POLICE_API_KEY:
            valueFrom:
              secretKeyRef:
                name: 'XROAD_POLICE_API_KEY'
                key: '/k8s/judicial-system/XROAD_POLICE_API_KEY'
        resources:
          limits:
            memory: '256Mi'
            cpu: '200m'
          requests:
            memory: '128Mi'
            cpu: '100m'
      serviceAccountName: 'judicial-system-api'
judicial-system-backend:
  metadata:
    name: 'judicial-system-backend'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-backend'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-backend'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-backend'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-backend'
        annotations:
          ad.datadoghq.com/judicial-system-backend.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-backend'
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          fsGroup: 65534
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-backend'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          XROAD_POLICE_API_KEY:
            valueFrom:
              secretKeyRef:
                name: 'XROAD_POLICE_API_KEY'
                key: '/k8s/judicial-system/XROAD_POLICE_API_KEY'
        resources:
          requests:
            cpu: '100m'
            memory: '256Mi'
          limits:
            cpu: '400m'
            memory: '512Mi'
      serviceAccountName: 'judicial-system-backend'
      initContainers:
        - args:
            - 'sequelize-cli'
            - 'db:migrate'
          command:
            - 'npx'
          image: ''
          env:
            NO_UPDATE_NOTIFIER: 'true'
judicial-system-web:
  metadata:
    name: 'judicial-system-web'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-web'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-web'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-web'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-web'
        annotations:
          ad.datadoghq.com/judicial-system-web.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-web'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-web'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/readiness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          SUPPORT_EMAIL:
            valueFrom:
              secretKeyRef:
                name: 'SUPPORT_EMAIL'
                key: '/k8s/judicial-system/SUPPORT_EMAIL'
        resources:
          limits:
            memory: '256Mi'
            cpu: '200m'
          requests:
            memory: '128Mi'
            cpu: '100m'
judicial-system-xrd-api:
  metadata:
    name: 'judicial-system-xrd-api'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-xrd-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-xrd-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-xrd-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-xrd-api'
        annotations:
          ad.datadoghq.com/judicial-system-xrd-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-xrd-api'
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          fsGroup: 65534
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-xrd-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          BACKEND_ACCESS_TOKEN:
            valueFrom:
              secretKeyRef:
                name: 'BACKEND_ACCESS_TOKEN'
                key: '/k8s/judicial-system/BACKEND_ACCESS_TOKEN'
        resources:
          limits:
            memory: '256Mi'
            cpu: '200m'
          requests:
            memory: '128Mi'
            cpu: '100m'
      serviceAccountName: 'judicial-system-xrd-api'
judicial-system-scheduler:
  metadata:
    name: 'judicial-system-scheduler'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-scheduler'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-scheduler'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-scheduler'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-scheduler'
        annotations:
          ad.datadoghq.com/judicial-system-scheduler.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-scheduler'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-scheduler'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          BACKEND_ACCESS_TOKEN:
            valueFrom:
              secretKeyRef:
                name: 'BACKEND_ACCESS_TOKEN'
                key: '/k8s/judicial-system/BACKEND_ACCESS_TOKEN'
        resources:
          limits:
            memory: '256Mi'
            cpu: '200m'
          requests:
            memory: '128Mi'
            cpu: '100m'
        command:
          - 'node'
        args:
          - '--no-experimental-fetch'
          - 'main.js'
judicial-system-message-handler:
  metadata:
    name: 'judicial-system-message-handler'
    namespace: 'judicial-system'
  labels:
    tags.datadoghq.com/env: 'dev'
    tags.datadoghq.com/service: 'judicial-system-message-handler'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-message-handler'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'dev'
          tags.datadoghq.com/service: 'judicial-system-message-handler'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-message-handler'
        annotations:
          ad.datadoghq.com/judicial-system-message-handler.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        name: 'judicial-system-message-handler'
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          fsGroup: 65534
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/judicial-system-message-handler'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        env:
          BACKEND_ACCESS_TOKEN:
            valueFrom:
              secretKeyRef:
                name: 'BACKEND_ACCESS_TOKEN'
                key: '/k8s/judicial-system/BACKEND_ACCESS_TOKEN'
        resources:
          limits:
            memory: '256Mi'
            cpu: '200m'
          requests:
            memory: '128Mi'
            cpu: '100m'
        command:
          - 'node'
        args:
          - '--no-experimental-fetch'
          - 'main.js'
      serviceAccountName: 'judicial-system-message-handler'
