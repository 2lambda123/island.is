#####################################################################
#
# Do not edit this file manually, it is automatically generated.
# Run "yarn charts" instead.
#
#####################################################################
identity-server:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'identity-server'
    namespace: 'identity-server'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'identity-server'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/identity-server'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'identity-server'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/identity-server'
        annotations:
          ad.datadoghq.com/identity-server.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'IdentityServer__LicenseKey'
            valueFrom:
              secretKeyRef:
                name: 'IdentityServer__LicenseKey'
                key: '/k8s/identity-server/LicenseKey'
          - name: 'AudkenniSettings__ClientId'
            valueFrom:
              secretKeyRef:
                name: 'AudkenniSettings__ClientId'
                key: '/k8s/identity-server/AudkenniClientId'
          - name: 'AudkenniSettings__ClientSecret'
            valueFrom:
              secretKeyRef:
                name: 'AudkenniSettings__ClientSecret'
                key: '/k8s/identity-server/AudkenniClientSecret'
          - name: 'IdentityServer__FakePersons'
            valueFrom:
              secretKeyRef:
                name: 'IdentityServer__FakePersons'
                key: '/k8s/identity-server/FakePersons'
          - name: 'IdentityServer__SigningCertificate__Passphrase'
            valueFrom:
              secretKeyRef:
                name: 'IdentityServer__SigningCertificate__Passphrase'
                key: '/k8s/identity-server/SigningCertificatePassphrase'
          - name: 'PersistenceSettings__AccessTokenManagementSettings__ClientSecret'
            valueFrom:
              secretKeyRef:
                name: 'PersistenceSettings__AccessTokenManagementSettings__ClientSecret'
                key: '/k8s/identity-server/ClientSecret'
          - name: 'Scopes__Admin__RootAccessList'
            valueFrom:
              secretKeyRef:
                name: 'Scopes__Admin__RootAccessList'
                key: '/k8s/identity-server/AdminRootAccessList'
          - name: 'FeatureFlags__ConfigCatSdkKey'
            valueFrom:
              secretKeyRef:
                name: 'FeatureFlags__ConfigCatSdkKey'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'AWS__SystemsManager__ParameterStore__DataProtectionPrefix'
            value: '/k8s/identity-server/DataProtectionSecret'
          - name: 'CacheSettings__Enabled'
            value: 'true'
          - name: 'CacheSettings__Memcached__Address'
            value: 'identity-server.dnugi2.cfg.euw1.cache.amazonaws.com'
          - name: 'CacheSettings__Memcached__Port'
            value: '11211'
          - name: 'CacheSettings__Redis__Address'
            value: 'clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com'
          - name: 'CacheSettings__Redis__Port'
            value: '6379'
          - name: 'IdentityServer__EnableFakeLogin'
            value: 'true'
          - name: 'IdentityServer__EnableFeatureDeploymentWildcards'
            value: 'false'
          - name: 'IdentityServer__KeyManagement__Enabled'
            value: 'true'
          - name: 'PersistenceSettings__BaseAddress'
            value: 'http://web-services-auth-ids-api'
          - name: 'PersistenceSettings__UserProfileBaseAddress'
            value: 'http://web-service-portal-api.service-portal.svc.cluster.local'
          - name: 'Application__MinCompletionPortThreads'
            value: '10'
          - name: 'NO_UPDATE_NOTIFIER'
            value: 'true'
        name: 'identity-server'
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          fsGroup: 65534
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/identity-server'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
            port: 5010
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/readiness'
            port: 5010
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '4000m'
            memory: '2048Mi'
          requests:
            cpu: '1000m'
            memory: '1024Mi'
        volumeMounts:
          - name: 'ids-signing.pfx'
            mountPath: '/etc/config/ids-signing.pfx'
      serviceAccountName: 'identity-server'
auth-admin-web:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'auth-admin-web'
    namespace: 'identity-server-admin'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'auth-admin-web'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/auth-admin-web'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'auth-admin-web'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/auth-admin-web'
        annotations:
          ad.datadoghq.com/auth-admin-web.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'IDENTITYSERVER_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'IDENTITYSERVER_SECRET'
                key: '/k8s/auth-admin-web/IDENTITYSERVER_SECRET'
          - name: 'BASE_URL'
            value: 'https://innskra.island.is/admin'
          - name: 'NEXTAUTH_URL'
            value: 'https://innskra.island.is/admin/api/auth'
        name: 'auth-admin-web'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/auth-admin-web'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '200m'
            memory: '128Mi'
services-auth-admin-api:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-admin-api'
    namespace: 'identity-server-admin'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-admin-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-admin-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-admin-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-admin-api'
        annotations:
          ad.datadoghq.com/services-auth-admin-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
        name: 'services-auth-admin-api'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-admin-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '100m'
            memory: '128Mi'
services-auth-ids-api:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-ids-api'
    namespace: 'identity-server'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-ids-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-ids-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-ids-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-ids-api'
        annotations:
          ad.datadoghq.com/services-auth-ids-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'IDENTITY_SERVER_CLIENT_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'IDENTITY_SERVER_CLIENT_SECRET'
                key: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
          - name: 'RSK_USERNAME'
            valueFrom:
              secretKeyRef:
                name: 'RSK_USERNAME'
                key: '/k8s/xroad/client/RSK/USERNAME'
          - name: 'RSK_PASSWORD'
            valueFrom:
              secretKeyRef:
                name: 'RSK_PASSWORD'
                key: '/k8s/xroad/client/RSK/PASSWORD'
          - name: 'XROAD_NATIONAL_REGISTRY_SERVICE_PATH'
            value: 'IS/GOV/6503760649/SKRA-Protected/Einstaklingar-v1'
          - name: 'XROAD_NATIONAL_REGISTRY_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'COMPANY_REGISTRY_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'COMPANY_REGISTRY_XROAD_PROVIDER_ID'
            value: 'IS/GOV/5402696029/Skatturinn/ft-v1'
          - name: 'XROAD_TJODSKRA_API_PATH'
            value: '/SKRA-Protected/Einstaklingar-v1'
          - name: 'XROAD_TJODSKRA_MEMBER_CODE'
            value: '6503760649'
          - name: 'XROAD_BASE_PATH'
            value: 'http://securityserver.island.is'
          - name: 'XROAD_BASE_PATH_WITH_ENV'
            value: 'http://securityserver.island.is/r1/IS'
          - name: 'XROAD_TLS_BASE_PATH'
            value: 'https://securityserver.island.is'
          - name: 'XROAD_TLS_BASE_PATH_WITH_ENV'
            value: 'https://securityserver.island.is/r1/IS'
          - name: 'XROAD_CLIENT_ID'
            value: 'IS/GOV/5501692829/island-is-client'
          - name: 'XROAD_RSK_PROCURING_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'XROAD_RSK_PROCURING_PATH'
            value: 'IS/GOV/5402696029/Skatturinn/prokura-v1'
        name: 'services-auth-ids-api'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-ids-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '800m'
            memory: '512Mi'
          requests:
            cpu: '100m'
            memory: '256Mi'
      initContainers:
        - args:
            - 'sequelize-cli'
            - 'db:migrate'
          command:
            - 'npx'
          name: 'migrations'
          image: ''
          env: []
        - args:
            - 'sequelize-cli'
            - 'db:seed:all'
          command:
            - 'npx'
          name: 'seed'
          image: ''
          env: []
services-auth-public-api:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-public-api'
    namespace: 'identity-server-admin'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-public-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-public-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-public-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-public-api'
        annotations:
          ad.datadoghq.com/services-auth-public-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'IDENTITY_SERVER_CLIENT_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'IDENTITY_SERVER_CLIENT_SECRET'
                key: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
          - name: 'NATIONAL_REGISTRY_IDS_CLIENT_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'NATIONAL_REGISTRY_IDS_CLIENT_SECRET'
                key: '/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET'
          - name: 'RSK_USERNAME'
            valueFrom:
              secretKeyRef:
                name: 'RSK_USERNAME'
                key: '/k8s/xroad/client/RSK/USERNAME'
          - name: 'RSK_PASSWORD'
            valueFrom:
              secretKeyRef:
                name: 'RSK_PASSWORD'
                key: '/k8s/xroad/client/RSK/PASSWORD'
          - name: 'XROAD_NATIONAL_REGISTRY_SERVICE_PATH'
            value: 'IS/GOV/6503760649/SKRA-Protected/Einstaklingar-v1'
          - name: 'XROAD_NATIONAL_REGISTRY_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'XROAD_TJODSKRA_MEMBER_CODE'
            value: '6503760649'
          - name: 'XROAD_BASE_PATH'
            value: 'http://securityserver.island.is'
          - name: 'XROAD_BASE_PATH_WITH_ENV'
            value: 'http://securityserver.island.is/r1/IS'
          - name: 'XROAD_TLS_BASE_PATH'
            value: 'https://securityserver.island.is'
          - name: 'XROAD_TLS_BASE_PATH_WITH_ENV'
            value: 'https://securityserver.island.is/r1/IS'
          - name: 'XROAD_CLIENT_ID'
            value: 'IS/GOV/5501692829/island-is-client'
          - name: 'XROAD_RSK_PROCURING_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'XROAD_RSK_PROCURING_PATH'
            value: 'IS/GOV/5402696029/Skatturinn/prokura-v1'
        name: 'services-auth-public-api'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-public-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '100m'
            memory: '128Mi'
services-auth-delegation-api:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-delegation-api'
    namespace: 'identity-server-delegation'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-delegation-api'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-delegation-api'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-delegation-api'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-delegation-api'
        annotations:
          ad.datadoghq.com/services-auth-delegation-api.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
          - name: 'IDENTITY_SERVER_CLIENT_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'IDENTITY_SERVER_CLIENT_SECRET'
                key: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
          - name: 'NATIONAL_REGISTRY_IDS_CLIENT_SECRET'
            valueFrom:
              secretKeyRef:
                name: 'NATIONAL_REGISTRY_IDS_CLIENT_SECRET'
                key: '/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET'
          - name: 'RSK_USERNAME'
            valueFrom:
              secretKeyRef:
                name: 'RSK_USERNAME'
                key: '/k8s/xroad/client/RSK/USERNAME'
          - name: 'RSK_PASSWORD'
            valueFrom:
              secretKeyRef:
                name: 'RSK_PASSWORD'
                key: '/k8s/xroad/client/RSK/PASSWORD'
          - name: 'XROAD_BASE_PATH'
            value: 'http://securityserver.island.is'
          - name: 'XROAD_BASE_PATH_WITH_ENV'
            value: 'http://securityserver.island.is/r1/IS'
          - name: 'XROAD_TLS_BASE_PATH'
            value: 'https://securityserver.island.is'
          - name: 'XROAD_TLS_BASE_PATH_WITH_ENV'
            value: 'https://securityserver.island.is/r1/IS'
          - name: 'XROAD_CLIENT_ID'
            value: 'IS/GOV/5501692829/island-is-client'
          - name: 'XROAD_RSK_PROCURING_REDIS_NODES'
            value: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
          - name: 'XROAD_RSK_PROCURING_PATH'
            value: 'IS/GOV/5402696029/Skatturinn/prokura-v1'
        name: 'services-auth-delegation-api'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-delegation-api'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '100m'
            memory: '128Mi'
services-auth-personal-representative:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-personal-representative'
    namespace: 'personal-representative'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-personal-representative'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-personal-representative'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative'
        annotations:
          ad.datadoghq.com/services-auth-personal-representative.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
        name: 'services-auth-personal-representative'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '100m'
            memory: '128Mi'
services-auth-personal-representative-public:
  apiVersion: 'apps/v1'
  kind: 'Deployment'
  metadata:
    name: 'services-auth-personal-representative-public'
    namespace: 'personal-representative'
  labels:
    tags.datadoghq.com/env: 'prod'
    tags.datadoghq.com/service: 'services-auth-personal-representative-public'
    tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative-public'
  spec:
    strategy:
      type: 'RollingUpdate'
      rollingUpdate:
        maxSurge: '25%'
        maxUnavailable: '25%'
    template:
      metadata:
        labels:
          tags.datadoghq.com/env: 'prod'
          tags.datadoghq.com/service: 'services-auth-personal-representative-public'
          tags.datadoghq.com/version: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative-public'
        annotations:
          ad.datadoghq.com/services-auth-personal-representative-public.logs: "[{\n              \"log_processing_rules\": [{\n                \"type\": \"mask_sequences\", \n                \"name\": \"mask_national_ids\", \n                \"replace_placeholder\": \"--MASKED--\", \n                \"pattern\" : \"\\b(?:[89]\\d{3}|(?:[012]\\d|3[01])(?:0\\d|1[012]))\\d\\d-?\\d{4}\\b\"\n              }]\n            }]"
    spec:
      containers:
        env:
          - name: 'CONFIGCAT_SDK_KEY'
            valueFrom:
              secretKeyRef:
                name: 'CONFIGCAT_SDK_KEY'
                key: '/k8s/configcat/CONFIGCAT_SDK_KEY'
        name: 'services-auth-personal-representative-public'
        securityContext:
          privileged: false
          allowPrivilegeEscalation: false
        image: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative-public'
        imagePullPolicy: 'IfNotPresent'
        livenessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        readinessProbe:
          httpGet:
            path: '/liveness'
          initialDelaySeconds: 3
          timeoutSeconds: 3
        resources:
          limits:
            cpu: '400m'
            memory: '256Mi'
          requests:
            cpu: '100m'
            memory: '128Mi'
